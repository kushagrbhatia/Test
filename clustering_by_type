import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns
from sklearn.cluster import KMeans
import numpy as np

# Sample Data (replace this with your actual DataFrame)
data = {
    'cluster_type': ['type1', 'type2', 'type3', 'type1', 'type2', 'type3', 'type1', 'type2', 'type3', 'type1', 'type2'],
    'runningvms': [10, 20, 30, 15, 25, 35, 12, 22, 32, 18, 28],
    'hosts': [1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2]  # This is a placeholder for your hosts data
}

# Create a DataFrame
df = pd.DataFrame(data)

# Prepare the data for clustering (using runningvms and hosts)
X = df[['runningvms', 'hosts']]

# Apply KMeans clustering
kmeans = KMeans(n_clusters=3, random_state=0)  # Adjust n_clusters based on your needs
df['cluster'] = kmeans.fit_predict(X)

# Visualize the clustering result
plt.figure(figsize=(10, 6))
sns.scatterplot(data=df, x='runningvms', y='hosts', hue='cluster', palette='tab10', s=100)

# Add plot title and labels
plt.title('Clustering of Hosts and Running VMs by Cluster Type')
plt.xlabel('Running VMs')
plt.ylabel('Hosts')

# Display the plot
plt.show()
